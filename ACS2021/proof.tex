\documentclass[11pt,letterpaper]{article}
\usepackage{cogsys}
%\usepackage{cogsysapa} % deprecated!
% \usepackage{graphicx}
\usepackage[T1]{fontenc}
\usepackage{times}
\usepackage[pdftex]{graphicx} % use this when importing PDF files

% natbib required to produce author-year citations;
% apacite is not properly supported and may lead to errors
\usepackage{natbib}
\setlength{\bibsep}{0.75ex}

 % First page headings for accepted submissions.
\cogsysheading{X}{20XX}{1-6}{X/20XX}{X/20XX}
 % First page headings for poster submissions.
%\cogsysposterheading{First}{2012}{1-18}

\ShortHeadings{Epistemic Entrenchment and Counterfactual Reasoning \\
in Automated Theory Change}
              {Xue Li, Alan Bundy, Eugene Philalithis}


\usepackage[many]{tcolorbox}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{proof,amsthm, colordvi,changebar,ifthen}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{makecell}
\usepackage{enumitem}
\usepackage{mathtools}
\usepackage{slashbox}
\sloppypar % get rid of overrun a line



%----
\newtheorem{defn}{Definition}[section]
\newtheorem{ex}{Example}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{heuristic}{Heuristic}
\newtheorem{exa}{Example}[section]
\newtheorem{assumption}{Assumption}[section]
\newtheorem{spec}{Specification}
\newtheorem{post}{Postulate}
\newcommand{\pf}[1]{\mathcal{#1}(\mathbb{PS})}
\newcommand{\ps}{\mathbb{PS}}
\newcommand{\dis}[1]{$\mathcal{d}(#1)$}
\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\blue}[1]{\textcolor{blue}{#1}}
\newcommand{\green}[1]{\textcolor{green}{#1}}
\newcommand{\cyan}[1]{\textcolor{cyan}{#1}}
\newcommand{\brown}[1]{\textcolor{brown}{#1}}
\newcommand{\theory}{\mathbb{T}}
\newcommand{\norm}{\mathcal{N}}
\newcommand{\signature}{\mathcal{S}}
\newcommand{\struc}{\mathbb{PS}}
\newcommand{\num}{\mathcal{N}}
\newcommand{\newtheory}{\mathbb{T'}}
\newcommand{\uneq}{$\setminus${=}}
\newcommand{\true}{{\cal T}(\struc)}
\newcommand{\false}{{\cal F}(\struc)}
\newcommand{\incompa}{{\cal IC}(\theory,\struc)}
\newcommand{\insuffa}{{\cal IS}(\theory,\struc)}
\newcommand{\incompb}{{\cal IC}(\nu_k(\theory),\struc)}
\newcommand{\insuffb}{{\cal IS}(\nu_k(\theory),\struc)}

\newtcolorbox{mybox}[1]
{
  colframe = {blue},
  colback  = {grey},
  coltitle = {black},  
  title    = {#1},
}


\begin{document} 

\title{Signature Entrenchment and Counterfactual Reasoning \\
in Automated Theory Change}
 
\author{Xue Li}{Xue.Shirley.Li@ed.ac.uk}
\author{Alan Bundy}{A.Bundy@ed.ac.uk}
\author{Eugene Philalithis}{E.Philalithis@ed.ac.uk}
\address{School of Informatics, University of Edinburgh, UK}
\vskip 0.2in
 
\begin{abstract}
This file contains the proofs of theorems in the main paper organised section by section.   
\end{abstract}

\section{Introduction}
\label{intro}

\noindent 
There is no proofs for this section.
\section{The ABC Repair Operations}
\label{sec:operation}
There is no proofs for this section.

\section{Conceptual change}
\label{sec:conceptualChange}
 There is no proofs for this section.
\section{Entrenchment Measuring}
\label{sec:ee:sig}
%Properties!

\begin{theorem}
\label{therem:ref:theog}
If there is no path from predicate $p$ to predicate $q$ in the theory's theory graph, then assertions of $p$ cannot contribute to any proof of an assertion of $q$.
\end{theorem}
\begin{theorem}
\label{therem:ref:theog}
If there is no path from predicate $p$ to predicate $q$ in the theory's theory graph, then assertions of $p$ cannot contribute to any proof of an assertion of $q$.
\end{theorem}

Theorem \ref{therem:ref:theog} decides whether adding a theorem of $p$ has an impact of building the proofs of $q$â€™s instances.


\subsection{Predicate Entrenchment}
The properties of predicate entrenchment to prove are as follows.
\begin{theorem}
\label{spec:pe}
Based on the  preferred distance, the important properties that predicate entrenchment $e(p)$ should have are as follows, where $p$, $p_{1}$ and $p_{2}$ are predicates, and $\mathbb{S}_{p}$ is the set of predicates which occur in $\ps$ while $\mathbb{S}_{t}$ is the set of predicates which occur in the theory but not in $\ps$.
\begin{enumerate}
\item $\forall p \in (\mathbb{S}_{t} \bigcup \mathbb{S}_{p}),\ e(p)$ has exactly one value.\newline
\textnormal{The entrenchment of a predicate should be just one value.}
\item $ 0 \leq e(p) \leq 1$. \newline
\textnormal{The range of an entrenchment should be [0,1], where 0 means that a predicate is not trusted at all and 1  represents that the predicate is most entrenched and fully trusted\footnote{In  Bayesian model and other probabilistic models \cite{gardenfors1988knowledge}, 1 is used as the value of the most entrenched. Although there was no explicit measurement of entrenchment, but only  certain properties that entrenchment should have in the previous literature, it is good to be coherent with their work, which is to employ 1 representing the most entrenched here.}.}

\item $\forall p_{2} \in \mathbb{S}_{p},\  e(p_{2})=1\ \bigwedge \  \forall p_{1}\in \mathbb{S}_{t},\  0< e(p_{1}) < 1$.\newline
\textnormal{Because $\ps$ is more trusted than the theory, a preferred predicate is most entrenched whose entrenchment is 1. Any predicate appearing only in the theory is believed in some sense, but less than a preferred predicate. Meanwhile, any predicate that occurs in the theory is considered to convey some information. Therefore, its entrenchment should be bigger than 0 but smaller than 1.  }
%\item If $p_{1} \in \mathbb{S}_{p},\ p_{2} \not\in \mathbb{S}_{p}$, then  $e(p_{1}) > e(p_{2})$. \newline The predicate $p_{1}$ occurs in $\ps$, so that it should be more entrenched than those which do not occur in $\ps$.

\item $\forall p_{1},p_{2}  \in \mathbb{S}_{t},\ e(p_{1}) > e(p_{2})$, iff $d_{p}(p_{1}) < d_{p}(p_{2})$.\newline
\textnormal{When neither predicate occurs in $\ps$, $p_{1}$  is more entrenched than $p_{2}$  if and only if $p_{1}$ is closer to preferred predicates in terms of its preferred distance. The smaller $d_{p}(p_{1})$ is, the more impact on $\ps$ changing  $p_{1}$ will have. As preferred  predicates should not be changed or effected, by assigning $p_{1}$  a bigger entrenchment value, it is less likely to be modified. }
\item If $p_{1} \in (\mathbb{S}_{t} \bigcup \mathbb{S}_{p})$, while $p_{2} \not\in (\mathbb{S}_{t} \bigcup \mathbb{S}_{p})$, then $ e(p_{1}) > e(p_{2})$.\newline
\textnormal{When $p_{2}$ is a predicate which neither appears in the theory nor $\ps$, it is an \emph{unknown predicate}. Unknown predicate $p_{2}$ is considered to be less entrenched than the ones occur in the theory or $\ps$.}
\end{enumerate}
\end{theorem}

According to the above desired properties, Definition \ref{def:pe} is proposed as a measurement of predicate entrenchment $e(p)$ of a predicate $p$.

\begin{defn}[Predicate Entrenchment]\label{def:predEn}
The entrenchment of a non-isolated predicate $p_{1}$ is given in terms of its preferred distance and the maximum preferred distance of all non-isolated predicates in the theory graph:

\begin{equation}\label{equ:predEntr1}
\begin{multlined}
    e(p) =1- \frac{d_{p}(p)}{d_{pMax}+2} \\
 \text{where } d_{pMax} = \max_{\forall q \in \mathbb{S}_t}(d_{p}(q)),\  q \text{ is a non-isolated predicate}.
\end{multlined}
\end{equation} 
On the other hand, the entrenchment of an isolated predicate $p_{2}$ is normalised as follows:
\begin{equation}\label{equ:predEntr2}
\begin{multlined}
    e(p_{2}) =\frac{1}{d_{pMax}+2} \\
 \text{where } d_{pMax} = \max_{\forall q \in \mathbb{S}_t}(d_{p}(q)),\  q \text{ is a non-isolated predicate}.
\end{multlined}
\end{equation}
If a predicate $p_{3}$ is an unknown predicate\footnote{The zero entrenchment is defined to reflect that the existence of a predicate in the theory means that the predicate is trusted to have informational value.}, which appears neither in the theory nor in $\ps$, then its entrenchment is initialised as 0.
\begin{equation}\label{equ:predEntr3}
    e(p_{3}) =0
\end{equation}
\end{defn}
In the following paragraphs, we will prove that the defined measurement has the desired properties given in the above theorems.

Based on Equation \ref{equ:predEntr2} and \ref{equ:predEntr3}, the entrenchment of an isolated predicate or an unknown predicate has one fixed value. Meanwhile, because the preferred distance of any non-isolated predicate has only one value, so that $d_{pMax}$ is a fixed value in a given theory. Consequently, the entrenchment of a non-isolated predicate has only one value too. In summary, property 1 is held by our measurement.

The preferred distance of a non-isolated predicate $p_{1}$ satisfies:
\begin{equation}\label{equ:p0}
  0 \leq d_{p}(p_{1}) \leq d_{pMax}
\end{equation}
According to Equation \ref{equ:predEntr1} and  \ref{equ:p0},  the entrenchment of a non-isolated predicate $p_{1}$ is in the range $[\frac{2}{d_{pMax}+2}, 1]$: 
\begin{equation}\label{equ:p1}
    \frac{2}{d_{pMax}+2} \leq e(p_{1})\leq  1 \\
 %  \forall p_{2} \in \mathbb{S}_{t},\  e(p)=0.
\end{equation}
Based on Equation \ref{equ:p1}, \ref{equ:predEntr2} and \ref{equ:predEntr3}, we can derive the following relation among the entrenchments of predicates in all different types, which proves  property 2, the first half of  property 3, the special case of  property 4 and  property 5.
\begin{equation}\label{equ:p2}
    0= e(p_{3}) < \frac{1}{d_{pMax}+2}= e(p_{2}) < \frac{2}{d_{pMax}+2} \leq e(p_{1})\leq  1 \\
 %  \forall p_{2} \in \mathbb{S}_{t},\  e(p)=0.
\end{equation}

 When $p$ is from $\ps$, then $d_{p}(p) = 0$. A preferred predicate $p$ is a non-isolated predicate, whose entrenchment can be calculated according to Equation \ref{equ:predEntr1}.
 
 \begin{equation}\label{equ:p3}
   If p \in \mathbb{S}_{p},\ then\  e(p) =1- \frac{d_{p}(p)}{d_{pMax}+2} = 1 - \frac{0}{d_{pMax}+2} =1
 \end{equation}
Combining Equation \ref{equ:p2} and \ref{equ:p3}, it can be seen that the property 3 is  proved. 

The difference of entrenchment between two non-isolated predicates $p_{11}$ and $p_{12}$ are given in the following equation.
 \begin{equation}\label{equ:p4}
   e(p_{11}) - e(p_{12}) =1- \frac{d_{p}(p_{11})}{d_{pMax}+2} - (1- \frac{d_{p}(p_{12})}{d_{pMax}+2}) = \frac{d_{p}(p_{12}) - d_{p}(p_{11})}{d_{pMax}+2}
 \end{equation}

Based on Equation \ref{equ:p0} and \ref{equ:p4}, property 4 can be proved:
 \begin{equation}\label{equ:p5}
 e(p_{11}) > e(p_{12}) \Leftrightarrow \frac{d_{p}(p_{12}) - d_{p}(p_{11})}{d_{pMax}+2} > 0 \Leftrightarrow d_{p}(p_{12}) > d_{p}(p_{11})
 \end{equation}

In summary, the defined measurement of entrenchment has all the desired properties given by theorem (\ref{spec:pe}).


\subsection{Argument Entrenchment}
\label{sec:ee:args}


\begin{defn}[The Entrenchment of an argument]
Let $ \mathcal{E}_{a}(p, n, \theory)$ be the entrenchment of the nth argument of predicate $p$ in theory $\theory$:
\begin{equation}\label{equ:ref:aren}
    \mathcal{E}_{a}(p, n, \theory) =
    \begin{cases}
    |\mathcal{D}(p, n, \theory)|,\  p \ntriangleleft \mathbb{PS}\\
    Max(\forall p',i, |\mathcal{D}(p', i, \theory)|)+|\mathcal{D}(p, n, \theory)|,\ p \triangleleft \mathbb{PS}, p' \ntriangleleft \mathbb{PS}
    \end{cases}
\end{equation}
where $1\leq n\leq arity(p)$ and $p \triangleleft \mathbb{PS}$ represents that $\exists p(\vec{t}),\ p(\vec{t}) \in \pf{T} \bigvee p(\vec{t}) \in \pf{F}$, and the function $Max$ returns the maximum value.
\end{defn}


\begin{theorem}
The argument entrenchment of one that occurs in $\ps$ is bigger than one that only occurs in the theory not in $\ps$.
 \begin{align}\label{eqa:the1}
     \forall p \triangleleft \mathbb{PS}, q \ntriangleleft \mathbb{PS},\  \mathcal{E}_{a}(p, i, \theory) > \mathcal{E}_{a}(q, j, \theory)
 \end{align}
 where $1\leq i\leq arity(p)$ and $1\leq j\leq arity(q)$.
\end{theorem}

\begin{proof} $\because\ q \ntriangleleft \mathbb{PS}$,\\ 
$\therefore\ \mathcal{E}_{a}(q, n, \theory) = |\mathcal{D}(q, n, \theory)| \leq Max(\forall p',i, |\mathcal{D}(p', i, \theory)|)$, where $p'\ntriangleleft \mathbb{PS}$.


$\because\  p \triangleleft \ps$ and there are only propositions in $\ps$,\\
$\therefore\ \exists p(\vec{C}) \in \ps$. Thus, $\forall i, 1\leq i\leq arity(p), |\mathcal{D}(p, n, \theory)| \geq 1$. 

$\because\ \mathcal{E}_{a}(p, j, \theory) = Max(\forall p',i, |\mathcal{D}(p', i, \theory)|)+|\mathcal{D}(p, n, \theory)|$,\\
$\therefore \mathcal{E}_{a}(p', j, \theory) \geq Max(\forall p',i, |\mathcal{D}(p', i, \theory)|)+1 > \mathcal{E}_{a}(q, n, \theory)$.

Thus, theorem (\ref{eqa:the1}) is proved.

\end{proof}

\begin{theorem}\label{the:ref:remarg}
A logical theory $\theory$ can be simplified by omitting the $n$th argument of predicate $p$ if $p$ is not in $\ps$ and the entrenchment is one $\mathcal{E}_{a}(p, n)=1$. If that argument is a variable in a rule, then weaken the remaining occurrences of that variable with the unique constant in the argument domain. Let the simplified theory be $\theory'$ and $p$ be the predicate of the omitted argument, then all theorems remains.
\begin{equation}
    \forall \alpha, \theory \vdash \alpha, \theory' \vdash \alpha*
\end{equation}
where $\alpha = \alpha*$ if $\alpha$ is not a theorem with $p$, otherwise, $\alpha*$ is different from $\alpha$ by lacking of the omitted argument.
\end{theorem}

\begin{proof}
If predicate $p$ is not involved in proofs of $\alpha$,  then there is no paths from $p$ to the predicates in $\alpha$ based on . $\alpha* = \alpha$ and $\theory \vdash_{\pi} \alpha$ and $\theory' \vdash_{\pi} \alpha*$, where $\theory\vdash_{\pi}\alpha$ means that $\pi$ is a proof of $\alpha$ in theory $\theory$.

If predicate $p$ is involved in an assertion in proofs of $\alpha$,

\end{proof}



\end{document} 


